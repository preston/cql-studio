<div class="bg-primary d-flex justify-content-between align-items-center px-3 py-1 text-white">
  <div class="d-flex align-items-center gap-3">
    @if (cursorPosition) {
      <span class="d-flex align-items-center gap-1 small">
        <i class="bi bi-cursor"></i>
        Ln {{ cursorPosition.line }}, Col {{ cursorPosition.column }}
      </span>
    }
    @if (wordCount) {
      <span class="d-flex align-items-center gap-1 small">
        <i class="bi bi-type"></i>
        {{ wordCount }} words
      </span>
    }
    <span class="d-flex align-items-center gap-1 small">
      <i class="bi bi-code-slash"></i>
      CQL {{ cqlVersion }}
    </span>
    <span class="d-flex align-items-center gap-1 small" [class.text-success]="isValidSyntax" [class.text-danger]="!isValidSyntax">
      <i class="bi bi-{{ isValidSyntax ? 'check' : 'exclamation-triangle' }}"></i>
      {{ isValidSyntax ? 'Valid' : 'Invalid' }}
    </span>
    @if (selectedPatientsCount > 0) {
      <span class="d-flex align-items-center gap-1 small text-info">
        <i class="bi bi-person"></i>
        {{ selectedPatientsCount }} patient{{ selectedPatientsCount === 1 ? '' : 's' }}
      </span>
    }
  </div>
  <div class="d-flex align-items-center gap-3">
    <!-- CQL Execution Status -->
    @if (isExecuting) {
      <span class="d-flex align-items-center gap-1 small text-warning">
        <i class="bi bi-arrow-clockwise spinning"></i>
        Executing CQL...
      </span>
    }
    
    <!-- ELM Translation Status -->
    @if (isTranslating) {
      <span class="d-flex align-items-center gap-1 small text-info">
        <i class="bi bi-arrow-clockwise spinning"></i>
        Translating to ELM...
      </span>
    }
    
    <!-- Library Evaluation Status -->
    @if (isEvaluating) {
      <span class="d-flex align-items-center gap-1 small text-success">
        <i class="bi bi-arrow-clockwise spinning"></i>
        Evaluating Libraries...
      </span>
    }
    
    <!-- Library Loading Status -->
    @if (isLoadingLibraries) {
      <span class="d-flex align-items-center gap-1 small text-primary">
        <i class="bi bi-arrow-clockwise spinning"></i>
        Loading Libraries...
      </span>
    }
    
    <!-- Ready Status (when no operations are running) -->
    @if (!isExecuting && !isTranslating && !isEvaluating && !isLoadingLibraries) {
      <span class="d-flex align-items-center gap-1 small text-light">
        <i class="bi bi-check"></i>
        Ready
      </span>
    }
  </div>
</div>
